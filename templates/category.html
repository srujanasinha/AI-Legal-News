{% extends "base.html" %}
{% block title %}{{ category.label }} &mdash; AI Legal Tracker{% endblock %}

{% block content %}
<section class="page-hero">
    <div class="page-hero-top">
        <a href="{{ base_url }}/" class="breadcrumb">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>
            All Articles
        </a>
    </div>
    <div class="page-hero-content">
        <span class="tag tag-lg tag-{{ category_key }}">{{ category.label }}</span>
        <h2 class="page-hero-title">{{ category.label }}</h2>
        <p class="page-hero-desc">{{ category.description }}</p>
        <div class="page-hero-stats">
            <span class="stat-pill">{{ total_articles }} article{{ 's' if total_articles != 1 else '' }}</span>
        </div>
    </div>
</section>

{% for date_str, articles in date_groups %}
<section class="date-group">
    <div class="date-heading">
        <div class="date-heading-left">
            <span class="date-icon">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
            </span>
            <h3>{{ date_str }}</h3>
        </div>
        <span class="date-count">{{ articles|length }} article{{ 's' if articles|length != 1 else '' }}</span>
    </div>
    <div class="article-grid">
        {% for article in articles %}
        <article class="article-card">
            <div class="article-meta">
                <span class="article-source">{{ article.source }}</span>
            </div>
            <h4 class="article-title">
                <a href="{{ article.link }}" target="_blank" rel="noopener noreferrer">
                    {{ article.title }}
                </a>
            </h4>
            <p class="article-summary">{{ article.summary }}</p>
            <div class="article-footer">
                <span class="article-date">{{ article.published_str }}</span>
                <a href="{{ article.link }}" target="_blank" rel="noopener noreferrer" class="read-more">
                    Read article
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
                </a>
            </div>
        </article>
        {% endfor %}
    </div>
</section>
{% endfor %}

{% if not date_groups %}
<section class="empty-state">
    <div class="empty-icon">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><path d="M4 22h16a2 2 0 002-2V4a2 2 0 00-2-2H8l-4 4v14a2 2 0 002 2z"/><line x1="10" y1="9" x2="18" y2="9"/><line x1="10" y1="13" x2="18" y2="13"/><line x1="10" y1="17" x2="14" y2="17"/></svg>
    </div>
    <h3>No articles in this category yet</h3>
    <p>Check back soon or browse <a href="{{ base_url }}/">all articles</a>.</p>
</section>
{% endif %}
{% endblock %}
