{% extends "base.html" %}
{% block title %}Archive &mdash; AI Legal Tracker{% endblock %}

{% block content %}
<section class="page-hero">
    <div class="page-hero-top">
        <a href="{{ base_url }}/" class="breadcrumb">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>
            Home
        </a>
    </div>
    <div class="page-hero-content">
        <h2 class="page-hero-title">Full Archive</h2>
        <p class="page-hero-desc">Complete collection of all {{ total_articles }} articles from the past 90 days across {{ source_count }} sources.</p>
    </div>
</section>

{% for date_str, articles in date_groups %}
<section class="date-group">
    <div class="date-heading">
        <div class="date-heading-left">
            <span class="date-icon">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
            </span>
            <h3>{{ date_str }}</h3>
        </div>
        <span class="date-count">{{ articles|length }} article{{ 's' if articles|length != 1 else '' }}</span>
    </div>
    <div class="article-grid">
        {% for article in articles %}
        <article class="article-card">
            <div class="article-meta">
                <span class="tag tag-sm tag-{{ article.category }}">
                    {{ categories.get(article.category, {}).get('label', article.category) }}
                </span>
                <span class="article-source">{{ article.source }}</span>
            </div>
            <h4 class="article-title">
                <a href="{{ article.link }}" target="_blank" rel="noopener noreferrer">
                    {{ article.title }}
                </a>
            </h4>
            <p class="article-summary">{{ article.summary }}</p>
            <div class="article-footer">
                <span class="article-date">{{ article.published_str }}</span>
                <a href="{{ article.link }}" target="_blank" rel="noopener noreferrer" class="read-more">
                    Read article
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
                </a>
            </div>
        </article>
        {% endfor %}
    </div>
</section>
{% endfor %}
{% endblock %}
