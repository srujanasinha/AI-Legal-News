{% extends "base.html" %}
{% block title %}Archive &mdash; AI Legal Tracker{% endblock %}

{% block content %}
<section class="page-intro">
    <h2>Full Archive</h2>
    <p class="subtitle">All {{ total_articles }} articles from the past 90 days across {{ source_count }} sources.</p>
</section>

{% for date_str, articles in date_groups %}
<section class="date-group">
    <div class="date-heading">
        <h3>{{ date_str }}</h3>
        <span class="date-count">{{ articles|length }} article{{ 's' if articles|length != 1 else '' }}</span>
    </div>
    <div class="article-list">
        {% for article in articles %}
        <article class="article-card">
            <div class="article-meta">
                <span class="article-source">{{ article.source }}</span>
                <span class="tag tag-{{ article.category }}">
                    {{ categories.get(article.category, {}).get('label', article.category) }}
                </span>
            </div>
            <h4 class="article-title">
                <a href="{{ article.link }}" target="_blank" rel="noopener noreferrer">
                    {{ article.title }}
                </a>
            </h4>
            <p class="article-summary">{{ article.summary }}</p>
        </article>
        {% endfor %}
    </div>
</section>
{% endfor %}
{% endblock %}
